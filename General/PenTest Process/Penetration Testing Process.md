# Penetration Testing Process
## Bug Bounty Platforms
- HackerOne
- Bugcrowd

## Pre-Engagement
- Scoping questionnaire
	- How many expected live hosts?
	- How many IPs/CIDR ranges in scope?
	- How many Domains/Subdomains are in scope?
	- How many wireless SSIDs in scope?
	- How many web/mobile applications? If testing is authenticated, how many roles (standard user, admin, etc.)?
	- For a phishing assessment, how many users will be targeted? Will the client provide a list, or we will be required to gather this list via OSINT?
	- If the client is requesting a Physical Assessment, how many locations? If multiple sites are in-scope, are they geographically dispersed?
	- What is the objective of the Red Team Assessment? Are any activities (such as phishing or physical security attacks) out of scope?
	- Is a separate Active Directory Security Assessment desired?
	- Will network testing be conducted from an anonymous user on the network or a standard domain user?
	- Do we need to bypass Network Access Control (NAC)?
- Pre-engagement meeting - getting Contract or SoW
	- NDA
	- Goals
	- Scope
	- Penetration Testing Type
	- Methodologies
	- Penetration Testing Locations
	- Time Estimation
	- Third Parties
	- Evasive Testing
	- Risks
	- Scope Limitations & Restrictions
	- Information Handling
	- Contact Information
	- Lines of Communication
	- Reporting
	- Payment Terms
- Rules of Engagement
	- Introduction
	- Contractor
	- Penetration Testers
	- Contact Information
	- Purpose
	- Goals
	- Scope
	- Lines of Communication
	- Time Estimation
	- Time of the Day to Test
	- Penetration Testing Type
	- Penetration Testing Locations
	- Methodologies
	- Objectives / Flags
	- Evidence Handling
	- System Backups
	- Information Handling
	- Incident Handling and Reporting
	- Status Meetings
	- Reporting
	- Retesting
	- Disclaimers and Limitation of Liability
	- Permission to Test
- Kick-off meeting
	- Includes clients POCs
		- Internal Audit
		- Information Secuirty
		- IT
		- Governance & Risk
	- Client technical suport stuff
		- Developers
		- Sysadmins
		- Network engineers
	- Penetration testing team
		- Practice lead
		- Actual penetration testers
		- Sometimes project manager
		- Sometimes sales account executive or similar
- Contractors Agreement
	- In case test also includes physical testing
	- get out of jail free card
	- Introduction
	- Contractor
	- Purpose
	- Goal
	- Penetration Testers
	- Contact Information
	- Physical Addresses
	- Building Name
	- Floors
	- Physical Room Identifications
	- Physical Components
	- Timeline
	- Notarization
	- Permission to Test

## Documents that must be signed by the client and timing
- Non-Disclosure Agreement (NDA) - After Initial Contact
- Scoping Questionnaire - Before the Pre-Engagement Meeting
- Scoping Document - During the Pre-Engagement Meeting
- Penetration Testing Proposal (Contract/Scope of Work (SoW)) - During the Pre-engagement Meeting
- Rules of Engagement (RoE) - Before the Kick-Off Meeting
- Contractors Agreement (Physical Assessments) - Before the Kick-Off Meeting
- Reports - During and after the conducted Penetration Test
## Who is authorized to hire for penetration testing?
- Chief Executive Officer (CEO)
- Chief Security Officer (CSO)
- Chief Technical Officer (CTO)
- Chief Risk Officer (CRO)
- Chief Information Security Officer (CISO)
- Chief Information Officer (CIO)
- VP or Director of IT/Information Security
- Audit Manager
- VP of Internal Audit
## Type of NDA's
- Unilateral NDA
- Bilateral NDA
- Multilateral NDA
## Information Gathering
- OSINT
- Infrastructure Enumeration
- Service Enumeration
- Host Enumeration
## Vulnerability Assessment
- Security Assessment
- Conducted by running automated scanning tools
- Nessus, Qualys, OpenVAS, etc.
- Not individually tuned
- Testing Methods
	- External
	- Internal
## Exploitation
## Post-Exploitation
## Lateral Movement
## Proof-of-Concept
## Risk Managament
- Risks handling
	- Accept
	- Transfer
	- Avoid
	- Mitigate

## Types of Penetration Testing
- Blackbox
	- Minimum information provided
	- Only essential IP addresses and domains is provided
- Greybox
	- Extended information provided
	- Such as specific URLs, hostnames, subnets, similar
- Whitebox
	- Maximum information provided
	- Internal view of entire structure
	- Detailed configurations, admin creds, web application source code
- Red-Teaming
	- May include physical testing and social engineering
	- Can be combined with any of the above types
- Purple-Teaming
	- Focused on working closely with the defenders
	- Can be combined with any of the above types
## Testing Approaches
- Evasive
- Non-evasive
- Semi-evasive
- Hybrid

## Types of Testing Environments
- Network
- IoT
- Hosts
- Web App
- Cloud
- Server
- Mobile
- Source Code
- Security Policies
- Firewalls
- IDS/IPS
- API
- Physical Security
- Thick Clients
- Employees

## Laws and Regulations
- Protecting critical information infrastructure and personal data
	- Cybersecurity Information Sharing Act (CISA)
- Criminalizing malicious computer usage and unauthorized access to computer systems
	- Computer Fraud and Abuse Act (CFAA)
- Prohibiting circumventing technological measures to protect copyrighted works
	- Digital Millennium Copyright Act (DMCA)
- Regulating the interception of electronic communications
	- Electronic Communications Privacy Act (ECPA)
- Governing the use and disclosure of protected health information
	- Health Insurance Portability and Accountability Act (HIPAA)
- Regulating the collection of personal information from children
	- Children's Online Privacy Protection Act (COPPA)

## Precautionary Measures during Penetration Tests
- Obtain written consent from the owner or authorized representative of the computer or network being tested
- Conduct the testing within the scope of the consent obtained only and respect any limitations specified
- Take measures to prevent causing damage to the systems or networks being tested
- Do not access, use or disclose personal data or any other information obtained during the testing without permission
- Do not intercept electronic communications without the consent of one of the parties to the communication
- Do not conduct testing on systems or networks that are covered by the Health Insurance Portability and Accountability Act (HIPAA) without proper authorization