---

mindmap-plugin: basic

---
# Network Monitoring
## Network Monitoring

### 1. **Network Monitoring Overview**
   - **Importance**: Ensuring network availability and performance.
   - **Factors Affecting Network**:
     - Attacks
     - Threats
     - Vulnerabilities
     - Availability

### 2. **Network Metrics**
   - **Bandwidth Use**
   - **Packet Flow**: Incoming and outgoing packets
   - **Environmental Factors**:
     - External temperatures
     - Humidity levels in the server room
     - Electrical load

### 3. **Common Network Monitoring Tools**
   - **Protocols Used**:
     - SNMP (Simple Network Management Protocol)
   - **Data Collection Methods**:
     - Direct queries to devices
     - Agents (software on devices that communicates with the Network Management System - NMS)
   - **Data Presentation**:
     - GUI (Graphical User Interface)

### 4. **Network Interface Statistics**
   - **Link State**: Up or Down
   - **Speed and Duplex**:
     - Checking if the speed matches the expected rate (e.g., 1000 Mbps)
   - **Traffic Monitoring**:
     - Send and receive traffic
   - **Errors**:
     - CRC (Cyclic Redundancy Check) errors
     - Giants (frames larger than 1514 bytes)
     - Runts (frames smaller than the minimum size)
     - Encapsulation errors
   - **Byte Counts**

### 5. **Monitoring Tools and Platforms**
   - **Open Source Tools**:
     - Zabbix
     - LibreNMS
   - **Commercial Tools**:
     - SolarWinds
     - Grafana (front-end for other tools)

### 6. **Example Monitoring and Baselines**
   - **What to Monitor**:
     - Core switch
     - File servers
     - Web servers
     - Environmental metrics (temperature, UPS load)
   - **Baselines**:
     - Network bandwidth usage
     - Historical traffic patterns
     - Web server statistics (requests per second)
   - **Baseline Utility**:
     - Identifying normal vs. abnormal traffic
     - Detecting potential attacks

### 7. **Practical Experiences**
   - **Link State and NIC Issues**:
     - NIC failures causing network drops
   - **Monitoring Insights**:
     - Recording issues to diagnose hardware problems
     - Observing and analyzing traffic patterns and errors

### 8. **Special Guest Discussion**
   - **Mike Smyer**:
     - Network monitoring setup for a small company
     - Tools used and experiences shared


## SNMP


**Introduction to SNMP:**
- **Definition:** Simple Network Management Protocol (SNMP) helps manage and monitor network devices.
- **Purpose:** Enables administrators to manage network devices like switches, routers, and printers from a central location.

**Components of SNMP:**
1. **Managed Devices:** Devices on the network with SNMP capabilities, such as printers and switches. They use UDP port 161 for unencrypted communication and UDP port 10161 for encrypted communication (TLS).
2. **SNMP Manager (Network Management Station - NMS):** The system used to manage and communicate with managed devices. It listens on UDP port 162 for unencrypted data and UDP port 10162 for encrypted data.

**Communication Methods:**
1. **Get:** Standard query to request data from a managed device. For example, asking a printer how many pages have been printed.
2. **Trap:** Notifications sent from managed devices to the NMS when certain conditions or thresholds are met, like a printer overheating or a switch port being overloaded.
3. **Walk:** A batch process of Get commands used to gather extensive information from a managed device. Commonly referred to as SNMPWalk in Linux utilities.

**SNMP Versions:**
1. **Version 1:** The original version with basic features and no encryption.
2. **Version 2:** Introduced improved command set and weak encryption.
3. **Version 3:** Provides robust encryption with TLS and is recommended for secure communication.

**Configuration Example:**
- **Enabling SNMP on a Cisco Switch:**
  - Use the command `SNMP server community [community_name] RO` to enable SNMP with read-only access.
  - A community is an organizational tool for managed devices, and RO stands for read-only access.

**Setting Up an NMS:**
- **Example Tool:** Cacti, a free and popular NMS, runs on a virtual machine and is accessed through a web interface.
- **Configuration:** Add the switch as a device, configure community settings, and create graphs to monitor device performance.

**Conclusion:**
- SNMP is a powerful tool for network management, with a range of configurations and options.
- While basic setup is straightforward, advanced configurations like encrypted SNMP can be complex.

## Documenting Logs
### I. Law Enforcement Training Experience
   - **Story from Training**
     - Teaching a class on computers and log files
     - Encounter with a law enforcement trainee who wanted to know where log files are located

### II. Understanding Log Files
   - **General Concept**
     - Logs keep track of events and actions
     - Logs can be found in various locations depending on the system and application

   - **Types of Logs**
     - **System Logs**
       - Common for individual computer systems
     - **General Logs**
       - Common for routers and switches
     - **Event Logs**
       - Track events and changes
     - **Application Logs**
       - Specific to application problems
     - **Security Logs**
       - Track security-related events
     - **Setup Logs**
       - Related to installation and updates
     - **System Logs**
       - Equivalent of general logs for operating systems

### III. Logging Mechanisms
   - **Windows Event Viewer**
     - **Application Logs**
       - Issues with applications
     - **Security Logs**
       - Security-related events
     - **Setup Logs**
       - Installation and updates
     - **System Logs**
       - General system events

   - **UNIX/Linux Logging**
     - No single standard for logging
     - Custom formats and practices by different developers

### IV. Syslog
   - **Overview**
     - Standardized logging format
     - Used extensively in networking devices
     - Integrates with SNMP for monitoring

   - **Syslog Features**
     - **Error Priority Levels**
       - Level 0: Panic (critical issues)
       - Level 7: Information (minor issues)
     - Hierarchy helps in determining response actions

   - **Tools**
     - **InterActive Syslog Viewer**
       - Allows viewing and analyzing Syslog messages
       - Can aggregate logs from various devices (routers, switches, computers)

### V. Key Points
   - **No Single Source for Logs**
     - Logs are dispersed across systems and devices
   - **Log Configuration**
     - Importance of enabling and configuring logs
     - Historical and change logs

   - **Windows vs. Other Systems**
     - Windows: Event Viewer
     - Other Systems: SNMP with Syslog
## System Monitoring
### I. Network Monitoring Overview
   - **Purpose**
     - To ensure network and host systems are running optimally
     - Identify and address potential issues

### II. Tools for Network Monitoring
   - **Zabbix**
     - A popular free SNMP monitoring tool
     - Provides various metrics and alerts
   - **Other Tools**
     - **SolarWinds**
       - Paid, powerful network monitoring tools
     - **Other Commercial Tools**
       - Various options available, depending on needs and budget

### III. Key Metrics and Concepts
   - **Error Rate**
     - Measurement of malformed or broken frames/packets
     - Indicates potential issues with network performance
   - **Utilization**
     - **CPU Utilization**
       - Monitors CPU load on devices
       - Establish baselines and set alerts for deviations
     - **Average CPU Load**
       - One-minute, five-minute, and fifteen-minute averages
   - **Packet Drops**
     - Indicates device buffer overflow
     - Measures the amount of dropped packets due to overload
   - **Bandwidth**
     - Measures data transfer rate per second (packets, bytes, megabytes, etc.)
     - Important for understanding network load and capacity
   - **File Integrity Monitoring**
     - Monitors critical files (e.g., database files)
     - Tracks file size and hash values for integrity

### IV. Monitoring Tools and Features
   - **SNMP (Simple Network Management Protocol)**
     - Underpins many monitoring tools
     - Collects and manages metrics from network devices
   - **Notification and Alerts**
     - Various methods: dashboard alerts, text messages, smartphone apps

### V. Considerations for Network Monitoring
   - **Baselines**
     - Establish normal performance metrics to compare against
   - **Personal Choice**
     - Different tools and methods may suit different needs
   - **Configuration**
     - Setting up alerts and monitoring based on specific metrics

### VI. Summary
   - **No One-Size-Fits-All**
     - Various tools and metrics available
     - Choose based on specific requirements and preferences
## Security Information and Event Management (SIEM)
**I. Overview**
   - **Network Monitoring**
     - Collecting data from various network devices
     - Detecting and addressing potential issues
   - **Security Information and Event Management (SIEM)**
     - Integrates various monitoring tools into a unified system

**II. Key Components of SIEM**
   - **Aggregation**
     - **Definition**
       - Collecting data from different sources
     - **Components**
       - **Data Collection**
         - Using sensory devices to gather data
       - **Time Synchronization**
         - Ensuring accurate timestamps across devices
       - **Event Deduplication**
         - Removing duplicate entries from logs
       - **Normalization**
         - Organizing data into a consistent format
         - Improves analysis and reporting

   - **Correlation**
     - **Definition**
       - Analyzing aggregated data to identify patterns
     - **Components**
       - **Alerting and Triggering**
         - Generating alerts based on predefined thresholds
       - **Trigger Mechanisms**
         - Setting conditions for alerts (e.g., threshold breaches)

**III. SIEM Software Examples**
   - **Splunk**
     - Powerful and widely used
     - Offers real-time interfaces and graphs
   - **ArcSight**
     - Popular in the industry
     - Provides various reporting interfaces
   - **ELK Stack (Elasticsearch, Logstash, Kibana)**
     - Open source
     - **Kibana**
       - Reporting tool within the ELK Stack
     - **Advantages**
       - Free, but may lack the support and integration of commercial tools

**IV. Considerations for Choosing SIEM**
   - **Enterprise Needs**
     - Evaluate support, integration, and scalability
   - **Cost vs. Benefit**
     - Balance between free tools and paid solutions based on network size and requirements

**V. Summary**
   - **Importance of SIEM**
     - Essential for managing larger and more complex networks
     - Provides comprehensive monitoring, aggregation, and analysis capabilities
